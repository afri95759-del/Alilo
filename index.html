<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFRICANO ¹⁸ - متجر شتوي</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --snow-white: #f8f9fa;
            --ice-blue: #a8dadc;
            --winter-blue: #457b9d;
            --deep-blue: #1d3557;
            --warm-red: #e63946;
            --warm-orange: #f8961e;
            --whatsapp-green: #25D366;
            --african-gold: #D4AF37;
            --african-brown: #8B4513;
            --text-dark: #2d3748;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #e6f7ff 0%, #f0f9ff 100%);
            color: var(--text-dark);
            min-height: 100vh;
            position: relative;
        }

        /* تأثيرات ثلجية */
        .snowflake {
            position: fixed;
            color: var(--ice-blue);
            font-size: 20px;
            opacity: 0.3;
            z-index: -1;
            animation: snowfall linear infinite;
            pointer-events: none;
        }

        @keyframes snowfall {
            0% { transform: translateY(-100px) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(360deg); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* الهيدر */
        .header {
            background: linear-gradient(135deg, var(--deep-blue), var(--african-brown));
            color: white;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            border-bottom: 3px solid var(--african-gold);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo i {
            color: var(--african-gold);
            animation: pulse 2s infinite;
        }

        .logo span {
            background: linear-gradient(45deg, var(--african-gold), #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .cart-btn, .whatsapp-btn {
            position: relative;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--warm-red);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* زر الواتساب العائم */
        .floating-whatsapp {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 1000;
        }

        .floating-whatsapp-btn {
            background: var(--whatsapp-green);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-whatsapp-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.6);
        }

        /* قسم المنتجات */
        .store-section {
            padding: 40px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.2rem;
            color: var(--african-brown);
            margin-bottom: 40px;
            position: relative;
            padding-bottom: 15px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, var(--african-gold), var(--african-brown));
            bottom: 0;
            right: 50%;
            transform: translateX(50%);
            border-radius: 2px;
        }

        /* المنتجات */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .product-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid #e2e8f0;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .product-header {
            padding: 20px;
            background: linear-gradient(135deg, var(--african-gold), white);
            position: relative;
            min-height: 120px;
        }

        .product-title {
            font-size: 1.3rem;
            color: var(--african-brown);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .product-price {
            font-size: 1.5rem;
            color: var(--warm-red);
            font-weight: 700;
            margin-bottom: 15px;
        }

        .product-currency {
            font-size: 1rem;
            color: var(--text-dark);
        }

        .product-description {
            color: var(--text-dark);
            font-size: 0.95rem;
            line-height: 1.5;
            opacity: 0.9;
        }

        .product-controls {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .quantity-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid var(--african-gold);
            background: white;
            color: var(--african-brown);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .quantity-btn:hover {
            background: var(--african-gold);
            color: white;
        }

        .quantity-display {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--deep-blue);
            min-width: 40px;
            text-align: center;
        }

        .add-to-cart-btn {
            background: linear-gradient(135deg, var(--african-brown), var(--deep-blue));
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .add-to-cart-btn:hover {
            background: linear-gradient(135deg, var(--deep-blue), var(--african-brown));
            transform: translateY(-2px);
        }

        .buy-whatsapp-btn {
            background: linear-gradient(135deg, var(--whatsapp-green), #128C7E);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .buy-whatsapp-btn:hover {
            background: linear-gradient(135deg, #128C7E, var(--whatsapp-green));
            transform: translateY(-2px);
        }

        .admin-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .edit-btn, .delete-btn {
            flex: 1;
            padding: 8px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .edit-btn {
            background: var(--african-gold);
            color: var(--african-brown);
        }

        .edit-btn:hover {
            background: #e6c158;
        }

        .delete-btn {
            background: #fed7d7;
            color: #c53030;
        }

        .delete-btn:hover {
            background: #feb2b2;
        }

        /* سلة التسوق */
        .cart-overlay {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            display: none;
            justify-content: flex-end;
        }

        .cart-sidebar {
            width: 100%;
            max-width: 500px;
            height: 100%;
            background: white;
            padding: 30px;
            overflow-y: auto;
            transform: translateX(100%);
            transition: transform 0.4s ease;
            position: relative;
        }

        .cart-sidebar.active {
            transform: translateX(0);
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--african-gold);
        }

        .cart-header h2 {
            color: var(--african-brown);
            font-size: 1.8rem;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-dark);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-cart:hover {
            color: var(--warm-red);
        }

        .cart-items {
            margin-bottom: 30px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid var(--african-gold);
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            color: var(--african-brown);
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--warm-red);
            font-weight: 600;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-total {
            background: linear-gradient(135deg, var(--african-gold), var(--african-brown));
            color: white;
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            text-align: center;
        }

        .cart-total h3 {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .total-price {
            font-size: 2rem;
            font-weight: 700;
        }

        /* نموذج معلومات الزبون */
        .customer-form {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .customer-form h3 {
            color: var(--african-brown);
            margin-bottom: 20px;
            text-align: center;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-dark);
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--african-gold);
            outline: none;
        }

        .delivery-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        .delivery-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .delivery-option:hover {
            border-color: var(--african-gold);
        }

        .delivery-option.selected {
            border-color: var(--african-gold);
            background: rgba(212, 175, 55, 0.1);
        }

        .checkout-btn {
            background: linear-gradient(135deg, var(--warm-orange), #dd6b20);
            color: white;
            border: none;
            width: 100%;
            padding: 16px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .checkout-btn:hover {
            background: linear-gradient(135deg, #dd6b20, var(--warm-orange));
            transform: translateY(-2px);
        }

        .whatsapp-order-btn {
            background: linear-gradient(135deg, var(--whatsapp-green), #128C7E);
            color: white;
            border: none;
            width: 100%;
            padding: 16px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .whatsapp-order-btn:hover {
            background: linear-gradient(135deg, #128C7E, var(--whatsapp-green));
            transform: translateY(-2px);
        }

        .empty-cart {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-dark);
            display: none;
        }

        .empty-cart i {
            font-size: 4rem;
            color: var(--african-gold);
            margin-bottom: 20px;
        }

        /* نافذة تسجيل الدخول */
        .login-overlay {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .login-form {
            background: white;
            padding: 40px;
            border-radius: var(--radius);
            width: 90%;
            max-width: 400px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .login-form h2 {
            text-align: center;
            color: var(--african-brown);
            margin-bottom: 30px;
            font-size: 1.8rem;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            border-color: var(--african-brown);
            outline: none;
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.2);
        }

        .login-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--african-brown), var(--deep-blue));
            color: white;
            border: none;
            padding: 16px;
            border-radius: var(--radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .login-btn:hover {
            background: linear-gradient(135deg, var(--deep-blue), var(--african-brown));
            transform: translateY(-2px);
        }

        .error-msg {
            color: var(--warm-red);
            text-align: center;
            margin-top: 15px;
            font-size: 0.95rem;
            display: none;
        }

        /* لوحة التحكم */
        .admin-panel {
            background: linear-gradient(135deg, var(--deep-blue), #2d3748);
            color: white;
            padding: 40px 0;
            min-height: 100vh;
            display: none;
        }

        .admin-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .admin-header h1 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            color: var(--african-gold);
        }

        .admin-controls-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .admin-tab {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 12px 25px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .admin-tab.active {
            background: var(--african-gold);
            color: var(--african-brown);
            border-color: var(--african-gold);
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .admin-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .admin-btn {
            flex: 1;
            min-width: 200px;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 15px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .admin-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: var(--radius);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--african-gold);
            margin-bottom: 10px;
        }

        /* نافذة إضافة/تعديل منتج */
        .modal-overlay {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 4000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal h2 {
            color: var(--african-brown);
            margin-bottom: 25px;
            text-align: center;
        }

        .settings-form {
            margin-top: 20px;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--african-brown), var(--deep-blue));
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--deep-blue), var(--african-brown));
        }

        .btn-secondary {
            background: #e2e8f0;
            color: var(--text-dark);
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        /* الفوتر */
        .footer {
            background: linear-gradient(135deg, var(--deep-blue), var(--african-brown));
            color: white;
            padding: 40px 0 20px;
            text-align: center;
            margin-top: 50px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--african-gold);
        }

        .footer-section p {
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .contact-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .copyright {
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 0.9rem;
        }

        /* رسائل */
        .message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: var(--radius);
            color: white;
            font-weight: 500;
            z-index: 5000;
            animation: slideIn 0.3s ease;
            box-shadow: var(--shadow);
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .success {
            background: linear-gradient(135deg, #48bb78, #38a169);
        }

        .error {
            background: linear-gradient(135deg, #f56565, #e53e3e);
        }

        /* جدول الطلبات */
        .orders-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            overflow: hidden;
        }

        .orders-table th {
            background: rgba(212, 175, 55, 0.3);
            color: white;
            padding: 15px;
            text-align: right;
        }

        .orders-table td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .orders-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .order-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-completed {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-cancelled {
            background: #f8d7da;
            color: #721c24;
        }

        /* تطبيقات الجوال */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-controls {
                width: 100%;
                justify-content: space-between;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .cart-sidebar {
                max-width: 100%;
            }
            
            .admin-buttons {
                flex-direction: column;
            }
            
            .admin-btn {
                min-width: 100%;
            }
            
            .floating-whatsapp {
                bottom: 20px;
                left: 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .delivery-options {
                grid-template-columns: 1fr;
            }
            
            .admin-tabs {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- تأثيرات الثلج -->
    <div id="snowflakes"></div>

    <!-- الهيدر -->
    <header class="header">
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <span>AFRICANO ¹⁸</span>
            </div>
            <div class="nav-controls">
                <button class="nav-btn" id="storeBtn">
                    <i class="fas fa-store"></i> المتجر
                </button>
                <button class="nav-btn cart-btn" id="cartBtn">
                    <i class="fas fa-shopping-cart"></i> سلة التسوق
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <button class="nav-btn" id="adminBtn">
                    <i class="fas fa-user-cog"></i> لوحة التحكم
                </button>
            </div>
        </div>
    </header>

    <!-- صفحة المتجر -->
    <main class="store-section" id="storeSection">
        <div class="container">
            <h2 class="section-title">منتجاتنا الشتوية الحصرية</h2>
            
            <!-- قائمة المنتجات -->
            <div class="products-grid" id="productsGrid">
                <!-- المنتجات ستظهر هنا -->
            </div>
            
            <!-- رسالة إذا لم يكن هناك منتجات -->
            <div id="noProductsMessage" style="text-align: center; padding: 50px; display: none;">
                <i class="fas fa-snowflake" style="font-size: 4rem; color: var(--african-gold); margin-bottom: 20px;"></i>
                <h3 style="color: var(--african-brown); margin-bottom: 15px;">لا توجد منتجات</h3>
                <p style="color: var(--text-dark);">سيتم عرض المنتجات هنا بعد إضافتها من لوحة التحكم</p>
            </div>
        </div>
    </main>

    <!-- زر الواتساب العائم -->
    <div class="floating-whatsapp">
        <button class="floating-whatsapp-btn" id="floatingWhatsappBtn">
            <i class="fab fa-whatsapp"></i>
        </button>
    </div>

    <!-- نافذة تسجيل الدخول -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-form">
            <h2><i class="fas fa-lock"></i> دخول لوحة التحكم</h2>
            <div class="input-group">
                <label for="password">كلمة المرور</label>
                <input type="password" id="password" placeholder="أدخل كلمة المرور">
            </div>
            <button class="login-btn" id="loginBtn">دخول</button>
            <p class="error-msg" id="errorMsg">كلمة المرور غير صحيحة</p>
        </div>
    </div>

    <!-- لوحة التحكم -->
    <section class="admin-panel" id="adminPanel">
        <div class="container">
            <div class="admin-header">
                <h1><i class="fas fa-user-shield"></i> لوحة تحكم AFRICANO ¹⁸</h1>
                <p>إدارة المتجر والمبيعات والطلبات</p>
            </div>
            
            <!-- ألسنة لوحة التحكم -->
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="dashboard">لوحة التحكم</button>
                <button class="admin-tab" data-tab="products">المنتجات</button>
                <button class="admin-tab" data-tab="orders">الطلبات</button>
                <button class="admin-tab" data-tab="settings">الإعدادات</button>
            </div>
            
            <!-- لوحة التحكم الرئيسية -->
            <div class="admin-content active" id="dashboardTab">
                <div class="admin-controls-panel">
                    <h3 style="margin-bottom: 20px; text-align: center; color: var(--african-gold);">أدوات الإدارة</h3>
                    <div class="admin-buttons">
                        <button class="admin-btn" id="addProductBtn">
                            <i class="fas fa-plus-circle"></i> إضافة منتج جديد
                        </button>
                        <button class="admin-btn" id="viewProductsBtn">
                            <i class="fas fa-eye"></i> عرض جميع المنتجات
                        </button>
                        <button class="admin-btn" id="viewOrdersBtn">
                            <i class="fas fa-clipboard-list"></i> عرض الطلبات
                        </button>
                        <button class="admin-btn" id="backToStoreBtn">
                            <i class="fas fa-store"></i> العودة للمتجر
                        </button>
                    </div>
                </div>
                
                <div class="admin-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalProducts">0</div>
                        <p>عدد المنتجات</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalSales">0</div>
                        <p>عدد المبيعات</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalRevenue">0 د.ج</div>
                        <p>إجمالي الإيرادات</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalCustomers">0</div>
                        <p>عدد العملاء</p>
                    </div>
                </div>
            </div>
            
            <!-- قسم المنتجات -->
            <div class="admin-content" id="productsTab">
                <h3 style="margin-bottom: 20px; text-align: center; color: white;">إدارة المنتجات</h3>
                <div class="admin-buttons" style="margin-bottom: 20px;">
                    <button class="admin-btn" onclick="openAddProductModal()">
                        <i class="fas fa-plus-circle"></i> إضافة منتج جديد
                    </button>
                </div>
                <div id="adminProductsGrid">
                    <!-- المنتجات ستظهر هنا -->
                </div>
            </div>
            
            <!-- قسم الطلبات -->
            <div class="admin-content" id="ordersTab">
                <h3 style="margin-bottom: 20px; text-align: center; color: white;">الطلبات الواردة</h3>
                <div id="adminOrdersTable">
                    <!-- الطلبات ستظهر هنا -->
                </div>
            </div>
            
            <!-- قسم الإعدادات -->
            <div class="admin-content" id="settingsTab">
                <h3 style="margin-bottom: 20px; text-align: center; color: white;">إعدادات المتجر</h3>
                <div class="settings-form">
                    <div class="form-group">
                        <label>كلمة مرور الأدمن:</label>
                        <input type="password" id="adminPassword" placeholder="كلمة المرور الحالية">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>كلمة المرور الجديدة:</label>
                            <input type="password" id="newPassword" placeholder="كلمة المرور الجديدة">
                        </div>
                        <div class="form-group">
                            <label>تأكيد كلمة المرور:</label>
                            <input type="password" id="confirmPassword" placeholder="تأكيد كلمة المرور">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>رقم واتساب:</label>
                        <input type="text" id="whatsappNumber" placeholder="رقم واتساب">
                    </div>
                    
                    <div class="form-group">
                        <label>رقم الهاتف:</label>
                        <input type="text" id="phoneNumber" placeholder="رقم الهاتف">
                    </div>
                    
                    <div class="form-group">
                        <label>البريد الإلكتروني:</label>
                        <input type="email" id="storeEmail" placeholder="البريد الإلكتروني">
                    </div>
                    
                    <div class="form-group">
                        <label>اسم المتجر:</label>
                        <input type="text" id="storeName" placeholder="اسم المتجر">
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="switchAdminTab('dashboard')">إلغاء</button>
                        <button class="btn btn-primary" onclick="saveSettings()">حفظ الإعدادات</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- سلة التسوق -->
    <div class="cart-overlay" id="cartOverlay">
        <div class="cart-sidebar" id="cartSidebar">
            <div class="cart-header">
                <h2><i class="fas fa-shopping-cart"></i> سلة التسوق</h2>
                <button class="close-cart" id="closeCartBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="cart-items" id="cartItems">
                <!-- عناصر السلة ستظهر هنا -->
            </div>
            
            <div class="customer-form" id="customerForm" style="display: none;">
                <h3><i class="fas fa-user"></i> معلومات الزبون</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>الاسم الكامل *</label>
                        <input type="text" id="customerName" placeholder="الاسم الكامل">
                    </div>
                    <div class="form-group">
                        <label>رقم الهاتف *</label>
                        <input type="tel" id="customerPhone" placeholder="رقم الهاتف">
                    </div>
                </div>
                <div class="form-group">
                    <label>العنوان *</label>
                    <textarea id="customerAddress" rows="2" placeholder="العنوان الكامل"></textarea>
                </div>
                <div class="form-group">
                    <label>طريقة الاستلام</label>
                    <div class="delivery-options">
                        <div class="delivery-option" data-type="delivery">
                            <i class="fas fa-truck"></i>
                            <span>التوصيل</span>
                        </div>
                        <div class="delivery-option" data-type="pickup">
                            <i class="fas fa-store"></i>
                            <span>استلام من المتجر</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>طريقة الدفع</label>
                    <select id="paymentMethod">
                        <option value="cash">الدفع عند الاستلام</option>
                        <option value="online">الدفع الإلكتروني</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ملاحظات إضافية</label>
                    <textarea id="customerNotes" rows="2" placeholder="ملاحظات إضافية"></textarea>
                </div>
            </div>
            
            <div class="cart-total" style="display: none;" id="cartTotalSection">
                <h3>المبلغ الإجمالي</h3>
                <div class="total-price" id="cartTotalPrice">0 د.ج</div>
            </div>
            
            <button class="checkout-btn" id="proceedToCheckoutBtn">
                <i class="fas fa-arrow-right"></i> المتابعة إلى الدفع
            </button>
            
            <div class="order-methods" id="orderMethods" style="display: none;">
                <button class="checkout-btn" id="checkoutBtn">
                    <i class="fas fa-check-circle"></i> إرسال الطلب إلى لوحة التحكم
                </button>
                <button class="whatsapp-order-btn" id="whatsappCartBtn">
                    <i class="fab fa-whatsapp"></i> إرسال الطلب عبر واتساب
                </button>
            </div>
            
            <div class="empty-cart" id="emptyCart">
                <i class="fas fa-shopping-cart"></i>
                <h3>سلة التسوق فارغة</h3>
                <p>أضف منتجات إلى السلة لتظهر هنا</p>
            </div>
        </div>
    </div>

    <!-- نافذة إضافة/تعديل منتج -->
    <div class="modal-overlay" id="productModal">
        <div class="modal">
            <h2 id="modalTitle"><i class="fas fa-gift"></i> إضافة منتج جديد</h2>
            
            <div class="form-group">
                <label for="productName">اسم المنتج:</label>
                <input type="text" id="productName" placeholder="أدخل اسم المنتج">
            </div>
            
            <div class="form-group">
                <label for="productPrice">السعر (دينار جزائري):</label>
                <input type="number" id="productPrice" placeholder="أدخل السعر" min="1">
            </div>
            
            <div class="form-group">
                <label for="productDescription">وصف المنتج:</label>
                <textarea id="productDescription" rows="3" placeholder="أدخل وصف المنتج"></textarea>
            </div>
            
            <div class="form-actions">
                <button class="btn btn-secondary" onclick="closeProductModal()">إلغاء</button>
                <button class="btn btn-primary" onclick="saveProduct()">حفظ المنتج</button>
            </div>
        </div>
    </div>

    <!-- الفوتر -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>AFRICANO ¹⁸</h3>
                    <p>متجر إلكتروني متخصص في المنتجات الشتوية عالية الجودة بأسعار تنافسية.</p>
                    <p>جميع الأسعار بالدينار الجزائري (د.ج)</p>
                </div>
                <div class="footer-section">
                    <h3>روابط سريعة</h3>
                    <p><a href="#storeSection" style="color: white; text-decoration: none;">المتجر</a></p>
                    <p><a href="#" id="footerAdminBtn" style="color: white; text-decoration: none;">لوحة التحكم</a></p>
                    <p><a href="#" id="footerCartBtn" style="color: white; text-decoration: none;">سلة التسوق</a></p>
                </div>
                <div class="footer-section">
                    <h3>اتصل بنا</h3>
                    <div class="contact-info">
                        <i class="fab fa-whatsapp" style="color: var(--whatsapp-green);"></i>
                        <span id="footerWhatsapp">واتساب: 0556517448</span>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-phone"></i>
                        <span id="footerPhone">هاتف: 0556517448</span>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-envelope"></i>
                        <span id="footerEmail">info@africano18.com</span>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>© 2023 AFRICANO ¹⁸ - جميع الحقوق محفوظة</p>
            </div>
        </div>
    </footer>

    <script>
        // بيانات التطبيق
        let storeSettings = {
            adminPassword: "Alilo2828",
            whatsappNumber: "0556517448",
            phoneNumber: "0556517448",
            storeEmail: "info@africano18.com",
            storeName: "AFRICANO ¹⁸"
        };
        
        let products = [];
        let cart = [];
        let sales = 0;
        let revenue = 0;
        let customers = 0;
        let orders = [];
        let editingProductId = null;
        let currentDeliveryMethod = 'delivery';

        // عناصر DOM
        const storeSection = document.getElementById('storeSection');
        const adminPanel = document.getElementById('adminPanel');
        const loginOverlay = document.getElementById('loginOverlay');
        const cartOverlay = document.getElementById('cartOverlay');
        const cartSidebar = document.getElementById('cartSidebar');
        const cartItems = document.getElementById('cartItems');
        const emptyCart = document.getElementById('emptyCart');
        const cartTotalPrice = document.getElementById('cartTotalPrice');
        const cartCount = document.getElementById('cartCount');
        const productsGrid = document.getElementById('productsGrid');
        const noProductsMessage = document.getElementById('noProductsMessage');
        const productModal = document.getElementById('productModal');
        const customerForm = document.getElementById('customerForm');
        const cartTotalSection = document.getElementById('cartTotalSection');
        const orderMethods = document.getElementById('orderMethods');
        const proceedToCheckoutBtn = document.getElementById('proceedToCheckoutBtn');

        // الأزرار
        const storeBtn = document.getElementById('storeBtn');
        const cartBtn = document.getElementById('cartBtn');
        const adminBtn = document.getElementById('adminBtn');
        const closeCartBtn = document.getElementById('closeCartBtn');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const whatsappCartBtn = document.getElementById('whatsappCartBtn');
        const floatingWhatsappBtn = document.getElementById('floatingWhatsappBtn');
        const loginBtn = document.getElementById('loginBtn');
        const passwordInput = document.getElementById('password');
        const errorMsg = document.getElementById('errorMsg');

        // إعدادات الفوتر
        const footerWhatsapp = document.getElementById('footerWhatsapp');
        const footerPhone = document.getElementById('footerPhone');
        const footerEmail = document.getElementById('footerEmail');

        // نموذج المنتج
        const productNameInput = document.getElementById('productName');
        const productPriceInput = document.getElementById('productPrice');
        const productDescriptionInput = document.getElementById('productDescription');

        // الإحصائيات
        const totalProducts = document.getElementById('totalProducts');
        const totalSales = document.getElementById('totalSales');
        const totalRevenue = document.getElementById('totalRevenue');
        const totalCustomers = document.getElementById('totalCustomers');

        // تهيئة التطبيق
        document.addEventListener('DOMContentLoaded', function() {
            // إنشاء تأثيرات الثلج
            createSnowflakes();
            
            // تحميل البيانات من التخزين المحلي
            loadData();
            
            // إضافة مستمعي الأحداث
            storeBtn.addEventListener('click', showStore);
            adminBtn.addEventListener('click', showLoginForm);
            cartBtn.addEventListener('click', openCart);
            closeCartBtn.addEventListener('click', closeCart);
            checkoutBtn.addEventListener('click', submitOrderToAdmin);
            whatsappCartBtn.addEventListener('click', sendCartViaWhatsApp);
            floatingWhatsappBtn.addEventListener('click', contactViaWhatsApp);
            loginBtn.addEventListener('click', loginAdmin);
            proceedToCheckoutBtn.addEventListener('click', proceedToCheckout);
            
            // مستمعي الأحداث لألسنة لوحة التحكم
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchAdminTab(this.dataset.tab);
                });
            });
            
            // مستمعي الأحداث لخيارات التوصيل
            document.querySelectorAll('.delivery-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.delivery-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    currentDeliveryMethod = this.dataset.type;
                });
            });
            
            // إغلاق النوافذ عند النقر خارجها
            setupOverlayClosers();
            
            // السماح بالدخول بالضغط على Enter في حقل كلمة المرور
            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    loginAdmin();
                }
            });
            
            // تحديث معلومات الفوتر
            updateFooterInfo();
            
            // عرض المتجر افتراضيًا
            showStore();
        });

        // إنشاء تأثيرات الثلج
        function createSnowflakes() {
            const snowflakesContainer = document.getElementById('snowflakes');
            const snowflakeCount = 30;
            
            for (let i = 0; i < snowflakeCount; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.innerHTML = '❄';
                snowflake.style.left = `${Math.random() * 100}vw`;
                snowflake.style.animationDuration = `${Math.random() * 10 + 10}s`;
                snowflake.style.animationDelay = `${Math.random() * 5}s`;
                snowflake.style.opacity = `${Math.random() * 0.5 + 0.2}`;
                snowflake.style.fontSize = `${Math.random() * 15 + 15}px`;
                snowflakesContainer.appendChild(snowflake);
            }
        }

        // إعداد إغلاق النوافذ عند النقر خارجها
        function setupOverlayClosers() {
            // إغلاق السلة
            cartOverlay.addEventListener('click', function(e) {
                if (e.target === cartOverlay) {
                    closeCart();
                }
            });
            
            // إغلاق نافذة المنتج
            productModal.addEventListener('click', function(e) {
                if (e.target === productModal) {
                    closeProductModal();
                }
            });
            
            // إغلاق نافذة تسجيل الدخول
            loginOverlay.addEventListener('click', function(e) {
                if (e.target === loginOverlay) {
                    loginOverlay.style.display = 'none';
                }
            });
        }

        // تحميل البيانات
        function loadData() {
            const savedSettings = localStorage.getItem('africanoStoreSettings');
            const savedProducts = localStorage.getItem('africanoStoreProducts');
            const savedCart = localStorage.getItem('africanoStoreCart');
            const savedStats = localStorage.getItem('africanoStoreStats');
            const savedOrders = localStorage.getItem('africanoStoreOrders');
            
            if (savedSettings) {
                storeSettings = JSON.parse(savedSettings);
            }
            
            if (savedProducts) {
                products = JSON.parse(savedProducts);
            }
            
            if (savedCart) {
                cart = JSON.parse(savedCart);
            }
            
            if (savedStats) {
                const stats = JSON.parse(savedStats);
                sales = stats.sales || 0;
                revenue = stats.revenue || 0;
                customers = stats.customers || 0;
            }
            
            if (savedOrders) {
                orders = JSON.parse(savedOrders);
            }
            
            updateCartDisplay();
            renderProducts();
            updateStats();
        }

        // حفظ البيانات
        function saveData() {
            localStorage.setItem('africanoStoreSettings', JSON.stringify(storeSettings));
            localStorage.setItem('africanoStoreProducts', JSON.stringify(products));
            localStorage.setItem('africanoStoreCart', JSON.stringify(cart));
            localStorage.setItem('africanoStoreStats', JSON.stringify({
                sales: sales,
                revenue: revenue,
                customers: customers
            }));
            localStorage.setItem('africanoStoreOrders', JSON.stringify(orders));
        }

        // تحديث معلومات الفوتر
        function updateFooterInfo() {
            footerWhatsapp.textContent = `واتساب: ${storeSettings.whatsappNumber}`;
            footerPhone.textContent = `هاتف: ${storeSettings.phoneNumber}`;
            footerEmail.textContent = storeSettings.storeEmail;
            document.querySelector('.logo span').textContent = storeSettings.storeName;
            document.title = `${storeSettings.storeName} - متجر شتوي`;
        }

        // عرض المتجر
        function showStore() {
            storeSection.style.display = 'block';
            adminPanel.style.display = 'none';
            loginOverlay.style.display = 'none';
            renderProducts();
        }

        // عرض نموذج تسجيل الدخول
        function showLoginForm() {
            loginOverlay.style.display = 'flex';
            passwordInput.value = '';
            errorMsg.style.display = 'none';
            passwordInput.focus();
        }

        // تسجيل الدخول للوحة التحكم
        function loginAdmin() {
            const password = passwordInput.value;
            
            if (password === storeSettings.adminPassword) {
                // تسجيل الدخول ناجح
                loginOverlay.style.display = 'none';
                storeSection.style.display = 'none';
                adminPanel.style.display = 'block';
                switchAdminTab('dashboard');
                updateStats();
                loadSettingsForm();
            } else {
                // فشل تسجيل الدخول
                errorMsg.style.display = 'block';
                passwordInput.value = '';
                passwordInput.focus();
            }
        }

        // تحويل بين ألسنة لوحة التحكم
        function switchAdminTab(tabId) {
            // إخفاء جميع المحتويات
            document.querySelectorAll('.admin-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // إزالة النشاط من جميع الألسنة
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // إظهار المحتوى المطلوب
            document.getElementById(`${tabId}Tab`).classList.add('active');
            
            // تفعيل اللسان المطلوب
            document.querySelector(`.admin-tab[data-tab="${tabId}"]`).classList.add('active');
            
            // تحميل المحتوى إذا لزم
            if (tabId === 'products') {
                showAdminProducts();
            } else if (tabId === 'orders') {
                showAdminOrders();
            }
        }

        // تحميل بيانات الإعدادات في النموذج
        function loadSettingsForm() {
            document.getElementById('adminPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
            document.getElementById('whatsappNumber').value = storeSettings.whatsappNumber;
            document.getElementById('phoneNumber').value = storeSettings.phoneNumber;
            document.getElementById('storeEmail').value = storeSettings.storeEmail;
            document.getElementById('storeName').value = storeSettings.storeName;
        }

        // حفظ الإعدادات
        function saveSettings() {
            const currentPassword = document.getElementById('adminPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const whatsappNumber = document.getElementById('whatsappNumber').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            const storeEmail = document.getElementById('storeEmail').value;
            const storeName = document.getElementById('storeName').value;
            
            // التحقق من كلمة المرور الحالية
            if (currentPassword !== storeSettings.adminPassword) {
                showMessage('كلمة المرور الحالية غير صحيحة', 'error');
                return;
            }
            
            // التحقق من كلمة المرور الجديدة إذا تم إدخالها
            if (newPassword) {
                if (newPassword !== confirmPassword) {
                    showMessage('كلمة المرور الجديدة غير متطابقة', 'error');
                    return;
                }
                storeSettings.adminPassword = newPassword;
            }
            
            // تحديث الإعدادات
            storeSettings.whatsappNumber = whatsappNumber || storeSettings.whatsappNumber;
            storeSettings.phoneNumber = phoneNumber || storeSettings.phoneNumber;
            storeSettings.storeEmail = storeEmail || storeSettings.storeEmail;
            storeSettings.storeName = storeName || storeSettings.storeName;
            
            // حفظ وتحديث
            saveData();
            updateFooterInfo();
            showMessage('تم حفظ الإعدادات بنجاح', 'success');
            
            // العودة إلى لوحة التحكم الرئيسية
            switchAdminTab('dashboard');
        }

        // فتح سلة التسوق
        function openCart() {
            cartOverlay.style.display = 'flex';
            setTimeout(() => {
                cartSidebar.classList.add('active');
            }, 10);
            resetCheckoutProcess();
            renderCartItems();
        }

        // إغلاق سلة التسوق
        function closeCart() {
            cartSidebar.classList.remove('active');
            setTimeout(() => {
                cartOverlay.style.display = 'none';
            }, 400);
        }

        // إعادة تعيين عملية الدفع
        function resetCheckoutProcess() {
            customerForm.style.display = 'none';
            cartTotalSection.style.display = 'none';
            orderMethods.style.display = 'none';
            proceedToCheckoutBtn.style.display = 'flex';
            proceedToCheckoutBtn.innerHTML = '<i class="fas fa-arrow-right"></i> المتابعة إلى الدفع';
        }

        // عرض المنتجات في المتجر
        function renderProducts() {
            productsGrid.innerHTML = '';
            
            if (products.length === 0) {
                noProductsMessage.style.display = 'block';
                return;
            }
            
            noProductsMessage.style.display = 'none';
            
            products.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-header">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">${product.price} <span class="product-currency">د.ج</span></div>
                        <p class="product-description">${product.description}</p>
                    </div>
                    <div class="product-controls">
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="decreaseQuantity(${index})">-</button>
                            <div class="quantity-display" id="quantity-${index}">1</div>
                            <button class="quantity-btn" onclick="increaseQuantity(${index})">+</button>
                        </div>
                        <button class="add-to-cart-btn" onclick="addToCart(${index})">
                            <i class="fas fa-cart-plus"></i> أضف إلى السلة
                        </button>
                        <button class="buy-whatsapp-btn" onclick="buyViaWhatsApp(${index})">
                            <i class="fab fa-whatsapp"></i> شراء عبر واتساب
                        </button>
                    </div>
                `;
                productsGrid.appendChild(productCard);
            });
        }

        // عرض المنتجات في لوحة التحكم
        function showAdminProducts() {
            const adminProductsGrid = document.getElementById('adminProductsGrid');
            adminProductsGrid.innerHTML = '';
            
            if (products.length === 0) {
                adminProductsGrid.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: var(--radius);">
                        <i class="fas fa-snowflake" style="font-size: 3rem; color: var(--african-gold); margin-bottom: 20px;"></i>
                        <h3 style="color: white; margin-bottom: 10px;">لا توجد منتجات</h3>
                        <p style="color: #ccc;">اضغط على "إضافة منتج جديد" لبدء إضافة منتجات</p>
                    </div>
                `;
                return;
            }
            
            products.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.style.background = 'rgba(255,255,255,0.1)';
                productCard.style.border = '1px solid rgba(255,255,255,0.2)';
                productCard.style.marginBottom = '20px';
                productCard.innerHTML = `
                    <div class="product-header" style="background: rgba(212, 175, 55, 0.2);">
                        <h3 class="product-title" style="color: white;">${product.name}</h3>
                        <div class="product-price" style="color: var(--warm-orange);">${product.price} <span class="product-currency" style="color: #ccc;">د.ج</span></div>
                        <p class="product-description" style="color: #ccc;">${product.description}</p>
                    </div>
                    <div class="product-controls">
                        <div class="admin-controls">
                            <button class="edit-btn" onclick="editProduct(${index})">
                                <i class="fas fa-edit"></i> تعديل
                            </button>
                            <button class="delete-btn" onclick="deleteProduct(${index})">
                                <i class="fas fa-trash"></i> حذف
                            </button>
                        </div>
                    </div>
                `;
                adminProductsGrid.appendChild(productCard);
            });
        }

        // عرض الطلبات في لوحة التحكم
        function showAdminOrders() {
            const adminOrdersTable = document.getElementById('adminOrdersTable');
            
            if (orders.length === 0) {
                adminOrdersTable.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: var(--radius);">
                        <i class="fas fa-clipboard-list" style="font-size: 3rem; color: var(--african-gold); margin-bottom: 20px;"></i>
                        <h3 style="color: white; margin-bottom: 10px;">لا توجد طلبات</h3>
                        <p style="color: #ccc;">سيتم عرض الطلبات الواردة هنا</p>
                    </div>
                `;
                return;
            }
            
            let tableHTML = `
                <table class="orders-table">
                    <thead>
                        <tr>
                            <th>رقم الطلب</th>
                            <th>العميل</th>
                            <th>المنتجات</th>
                            <th>المجموع</th>
                            <th>التاريخ</th>
                            <th>الحالة</th>
                            <th>خيارات</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            orders.forEach((order, index) => {
                const orderDate = new Date(order.date).toLocaleDateString('ar-EG');
                const statusClass = order.status === 'completed' ? 'status-completed' : 
                                   order.status === 'cancelled' ? 'status-cancelled' : 'status-pending';
                const statusText = order.status === 'completed' ? 'مكتمل' : 
                                  order.status === 'cancelled' ? 'ملغي' : 'قيد الانتظار';
                
                tableHTML += `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${order.customerName}<br>${order.customerPhone}</td>
                        <td>${order.items.map(item => `${item.name} (${item.quantity})`).join('<br>')}</td>
                        <td>${order.total} د.ج</td>
                        <td>${orderDate}</td>
                        <td><span class="order-status ${statusClass}">${statusText}</span></td>
                        <td>
                            <button onclick="changeOrderStatus(${index}, 'completed')" style="background: var(--whatsapp-green); color: white; border: none; padding: 5px 10px; border-radius: 4px; margin: 2px; cursor: pointer;">تم</button>
                            <button onclick="changeOrderStatus(${index}, 'cancelled')" style="background: #f56565; color: white; border: none; padding: 5px 10px; border-radius: 4px; margin: 2px; cursor: pointer;">إلغاء</button>
                            <button onclick="deleteOrder(${index})" style="background: #a0aec0; color: white; border: none; padding: 5px 10px; border-radius: 4px; margin: 2px; cursor: pointer;">حذف</button>
                        </td>
                    </tr>
                `;
            });
            
            tableHTML += `
                    </tbody>
                </table>
            `;
            
            adminOrdersTable.innerHTML = tableHTML;
        }

        // زيادة كمية المنتج
        function increaseQuantity(index) {
            const quantityDisplay = document.getElementById(`quantity-${index}`);
            let quantity = parseInt(quantityDisplay.textContent) || 1;
            quantityDisplay.textContent = quantity + 1;
        }

        // تقليل كمية المنتج
        function decreaseQuantity(index) {
            const quantityDisplay = document.getElementById(`quantity-${index}`);
            let quantity = parseInt(quantityDisplay.textContent) || 1;
            if (quantity > 1) {
                quantityDisplay.textContent = quantity - 1;
            }
        }

        // إضافة إلى السلة
        function addToCart(productIndex) {
            const quantityDisplay = document.getElementById(`quantity-${productIndex}`);
            const quantity = parseInt(quantityDisplay.textContent) || 1;
            const product = products[productIndex];
            
            // البحث إذا كان المنتج موجود بالفعل في السلة
            const existingItemIndex = cart.findIndex(item => item.id === product.id);
            
            if (existingItemIndex !== -1) {
                // تحديث الكمية إذا كان المنتج موجود
                cart[existingItemIndex].quantity += quantity;
            } else {
                // إضافة منتج جديد إلى السلة
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    quantity: quantity
                });
            }
            
            // إعادة تعيين الكمية
            quantityDisplay.textContent = '1';
            
            // تحديث العرض والحفظ
            updateCartDisplay();
            saveData();
            showMessage('تم إضافة المنتج إلى السلة بنجاح!', 'success');
        }

        // شراء منتج عبر الواتساب مباشرة
        function buyViaWhatsApp(productIndex) {
            const quantityDisplay = document.getElementById(`quantity-${productIndex}`);
            const quantity = parseInt(quantityDisplay.textContent) || 1;
            const product = products[productIndex];
            
            // إنشاء رسالة الطلب
            const message = `مرحباً، أريد طلب المنتج التالي من ${storeSettings.storeName}:\n\n`
                          + `🔹 المنتج: ${product.name}\n`
                          + `🔹 السعر: ${product.price} دينار جزائري\n`
                          + `🔹 الكمية: ${quantity}\n`
                          + `🔹 المجموع: ${product.price * quantity} دينار جزائري\n\n`
                          + `الرجاء التواصل معي لإكمال الطلب.`;
            
            // تشفير الرسالة للرابط
            const encodedMessage = encodeURIComponent(message);
            
            // إنشاء رابط الواتساب
            const whatsappUrl = `https://wa.me/${storeSettings.whatsappNumber}?text=${encodedMessage}`;
            
            // فتح الواتساب في نافذة جديدة
            window.open(whatsappUrl, '_blank');
            
            // إعادة تعيين الكمية
            quantityDisplay.textContent = '1';
        }

        // عرض عناصر السلة
        function renderCartItems() {
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                emptyCart.style.display = 'block';
                proceedToCheckoutBtn.style.display = 'none';
                return;
            }
            
            emptyCart.style.display = 'none';
            proceedToCheckoutBtn.style.display = 'flex';
            
            let totalPrice = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">${item.price} د.ج × ${item.quantity} = ${itemTotal} د.ج</div>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="quantity-btn" onclick="updateCartItemQuantity(${index}, ${item.quantity - 1})">-</button>
                        <span>${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateCartItemQuantity(${index}, ${item.quantity + 1})">+</button>
                    </div>
                    <button class="delete-btn" style="padding: 5px 10px;" onclick="removeFromCart(${index})">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                cartItems.appendChild(cartItem);
            });
            
            cartTotalPrice.textContent = `${totalPrice} د.ج`;
        }

        // تحديث كمية عنصر في السلة
        function updateCartItemQuantity(index, newQuantity) {
            if (newQuantity < 1) {
                removeFromCart(index);
                return;
            }
            
            cart[index].quantity = newQuantity;
            updateCartDisplay();
            renderCartItems();
            saveData();
        }

        // إزالة عنصر من السلة
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartDisplay();
            renderCartItems();
            saveData();
            showMessage('تم إزالة المنتج من السلة', 'error');
        }

        // تحديث عرض السلة
        function updateCartDisplay() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        // المتابعة إلى الدفع
        function proceedToCheckout() {
            if (cart.length === 0) {
                showMessage('السلة فارغة!', 'error');
                return;
            }
            
            // إخفاء عناصر السلة وإظهار نموذج الزبون
            cartItems.style.display = 'none';
            customerForm.style.display = 'block';
            cartTotalSection.style.display = 'block';
            orderMethods.style.display = 'block';
            proceedToCheckoutBtn.style.display = 'none';
            
            // تعيين خيار التوصيل الافتراضي
            document.querySelector('.delivery-option[data-type="delivery"]').classList.add('selected');
        }

        // إرسال الطلب إلى لوحة التحكم
        function submitOrderToAdmin() {
            // التحقق من معلومات الزبون
            const customerName = document.getElementById('customerName').value.trim();
            const customerPhone = document.getElementById('customerPhone').value.trim();
            const customerAddress = document.getElementById('customerAddress').value.trim();
            
            if (!customerName || !customerPhone || !customerAddress) {
                showMessage('الرجاء ملء جميع المعلومات المطلوبة', 'error');
                return;
            }
            
            // حساب الإجمالي
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // إنشاء الطلب
            const newOrder = {
                id: Date.now(),
                customerName: customerName,
                customerPhone: customerPhone,
                customerAddress: customerAddress,
                deliveryMethod: currentDeliveryMethod,
                paymentMethod: document.getElementById('paymentMethod').value,
                notes: document.getElementById('customerNotes').value.trim(),
                items: cart.map(item => ({
                    name: item.name,
                    price: item.price,
                    quantity: item.quantity
                })),
                total: total,
                date: new Date().toISOString(),
                status: 'pending'
            };
            
            // إضافة الطلب إلى القائمة
            orders.unshift(newOrder);
            
            // تحديث الإحصائيات
            sales += cart.reduce((total, item) => total + item.quantity, 0);
            revenue += total;
            customers++;
            
            // تفريغ السلة
            cart = [];
            
            // حفظ البيانات
            saveData();
            
            // تحديث العرض
            updateCartDisplay();
            updateStats();
            resetCheckoutProcess();
            renderCartItems();
            
            // إظهار رسالة نجاح
            showMessage('تم إرسال الطلب إلى لوحة التحكم بنجاح!', 'success');
            
            // إغلاق السلة بعد ثانيتين
            setTimeout(() => {
                closeCart();
            }, 2000);
        }

        // إرسال سلة التسوق عبر الواتساب
        function sendCartViaWhatsApp() {
            // التحقق من معلومات الزبون
            const customerName = document.getElementById('customerName').value.trim();
            const customerPhone = document.getElementById('customerPhone').value.trim();
            const customerAddress = document.getElementById('customerAddress').value.trim();
            
            if (!customerName || !customerPhone || !customerAddress) {
                showMessage('الرجاء ملء جميع المعلومات المطلوبة', 'error');
                return;
            }
            
            // حساب الإجمالي
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // إنشاء رسالة الطلب
            let message = `طلب جديد من ${storeSettings.storeName}\n\n`;
            message += `🔵 معلومات الزبون:\n`;
            message += `الاسم: ${customerName}\n`;
            message += `الهاتف: ${customerPhone}\n`;
            message += `العنوان: ${customerAddress}\n`;
            message += `طريقة الاستلام: ${currentDeliveryMethod === 'delivery' ? 'التوصيل' : 'استلام من المتجر'}\n`;
            message += `طريقة الدفع: ${document.getElementById('paymentMethod').value === 'cash' ? 'الدفع عند الاستلام' : 'الدفع الإلكتروني'}\n\n`;
            
            message += `🛒 المنتجات:\n`;
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                message += `${index + 1}. ${item.name}\n`;
                message += `   الكمية: ${item.quantity}\n`;
                message += `   السعر: ${item.price} د.ج\n`;
                message += `   المجموع: ${itemTotal} د.ج\n\n`;
            });
            
            message += `💰 المجموع الكلي: ${total} دينار جزائري\n\n`;
            
            if (document.getElementById('customerNotes').value.trim()) {
                message += `ملاحظات: ${document.getElementById('customerNotes').value.trim()}\n\n`;
            }
            
            message += `شكراً لتسوقكم مع ${storeSettings.storeName}!`;
            
            // تشفير الرسالة للرابط
            const encodedMessage = encodeURIComponent(message);
            
            // إنشاء رابط الواتساب
            const whatsappUrl = `https://wa.me/${storeSettings.whatsappNumber}?text=${encodedMessage}`;
            
            // فتح الواتساب في نافذة جديدة
            window.open(whatsappUrl, '_blank');
            
            // تفريغ السلة
            cart = [];
            
            // تحديث العرض
            updateCartDisplay();
            resetCheckoutProcess();
            renderCartItems();
            saveData();
            
            // إغلاق السلة بعد إرسال الطلب
            setTimeout(() => {
                closeCart();
            }, 1000);
        }

        // التواصل عبر الواتساب (زر العائم)
        function contactViaWhatsApp() {
            const message = `مرحباً، أود الاستفسار عن منتجات ${storeSettings.storeName}`;
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${storeSettings.whatsappNumber}?text=${encodedMessage}`;
            window.open(whatsappUrl, '_blank');
        }

        // تغيير حالة الطلب
        function changeOrderStatus(orderIndex, status) {
            orders[orderIndex].status = status;
            saveData();
            showAdminOrders();
            showMessage('تم تحديث حالة الطلب', 'success');
        }

        // حذف طلب
        function deleteOrder(orderIndex) {
            if (confirm('هل أنت متأكد من حذف هذا الطلب؟')) {
                orders.splice(orderIndex, 1);
                saveData();
                showAdminOrders();
                showMessage('تم حذف الطلب', 'error');
            }
        }

        // فتح نافذة إضافة منتج
        function openAddProductModal() {
            editingProductId = null;
            document.getElementById('modalTitle').innerHTML = '<i class="fas fa-gift"></i> إضافة منتج جديد';
            productNameInput.value = '';
            productPriceInput.value = '';
            productDescriptionInput.value = '';
            productModal.style.display = 'flex';
        }

        // فتح نافذة تعديل منتج
        function editProduct(index) {
            const product = products[index];
            editingProductId = product.id;
            document.getElementById('modalTitle').innerHTML = '<i class="fas fa-edit"></i> تعديل المنتج';
            productNameInput.value = product.name;
            productPriceInput.value = product.price;
            productDescriptionInput.value = product.description;
            productModal.style.display = 'flex';
        }

        // إغلاق نافذة المنتج
        function closeProductModal() {
            productModal.style.display = 'none';
            editingProductId = null;
        }

        // حفظ منتج جديد أو تعديله
        function saveProduct() {
            const name = productNameInput.value.trim();
            const price = parseInt(productPriceInput.value);
            const description = productDescriptionInput.value.trim();
            
            if (!name || !price || price < 1) {
                showMessage('الرجاء إدخال اسم وسعر صالح للمنتج', 'error');
                return;
            }
            
            if (editingProductId) {
                // تعديل منتج موجود
                const productIndex = products.findIndex(p => p.id === editingProductId);
                if (productIndex !== -1) {
                    products[productIndex] = {
                        ...products[productIndex],
                        name: name,
                        price: price,
                        description: description || 'لا يوجد وصف'
                    };
                    showMessage('تم تحديث المنتج بنجاح!', 'success');
                }
            } else {
                // إضافة منتج جديد
                const newProduct = {
                    id: Date.now(),
                    name: name,
                    price: price,
                    description: description || 'لا يوجد وصف'
                };
                products.push(newProduct);
                showMessage('تم إضافة المنتج بنجاح!', 'success');
            }
            
            // تحديث العرض والحفظ
            renderProducts();
            updateStats();
            saveData();
            
            // إغلاق النافذة
            closeProductModal();
            
            // إذا كنا في قسم المنتجات في لوحة التحكم، قم بتحديثه
            if (document.getElementById('productsTab').classList.contains('active')) {
                showAdminProducts();
            }
        }

        // حذف منتج
        function deleteProduct(index) {
            if (confirm('هل أنت متأكد من حذف هذا المنتج؟')) {
                products.splice(index, 1);
                renderProducts();
                updateStats();
                saveData();
                showMessage('تم حذف المنتج بنجاح', 'error');
                
                // إذا كنا في قسم المنتجات في لوحة التحكم، قم بتحديثه
                if (document.getElementById('productsTab').classList.contains('active')) {
                    showAdminProducts();
                }
            }
        }

        // تحديث الإحصائيات
        function updateStats() {
            totalProducts.textContent = products.length;
            totalSales.textContent = sales;
            totalRevenue.textContent = `${revenue} د.ج`;
            totalCustomers.textContent = customers;
        }

        // إظهار رسالة
        function showMessage(text, type) {
            // إزالة الرسائل السابقة
            const existingMessages = document.querySelectorAll('.message');
            existingMessages.forEach(msg => msg.remove());
            
            // إنشاء رسالة جديدة
            const message = document.createElement('div');
            message.className = `message ${type}`;
            message.textContent = text;
            document.body.appendChild(message);
            
            // إزالة الرسالة بعد 3 ثواني
            setTimeout(() => {
                message.remove();
            }, 3000);
        }
    </script>
</body>
</html>
